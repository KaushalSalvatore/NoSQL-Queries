#### Q-1  What is Apache Cassandra ?
```bash
Cassandra is a NoSQL distributed database management system introduced by Apache. Cassandra is an open-source 
system designed to store and manage massive amounts of data without any failure. It is highly scalable for Big 
Data models and Facebook designs it.

Apache Cassandra has been built using the  Java flexible schemas and it has no single point of failure. There 
are various types of NoSQL databases available but Cassandra is a hybrid of column-oriented and key–value store 
databases. The keyspace refers to the outermost container for an application, and the entity refers to the table 
or column family in Cassandra.
```

#### Q-2 What is meant by CQLSH? And why is it used ?
```bash
Cassandra CQLsh stands for Cassandra CQL shell and it is used to specify how to use Cassandra commands. After the 
successful installation, Cassandra uses a prompt known as Cassandra query language shell (cqlsh). 
```

#### Q-3 What do you mean by replication factor ?
```bash
Cassandra stores copies (called replicas) of each row based on the row key. The replication factor refers to the number 
of nodes that will act as copies (replicas) of each row of data.

The replication factor (RF) is the number of copies (replicas) of each piece of data stored in a Cassandra cluster.

Example:

RF = 3 → Each piece of data exists on three different nodes.
RF = 2 → Two copies on two nodes.
The replication factor is configured per keyspace, not globally.

Impact of RF:

Higher RF = higher availability and durability, but more storage usage.
RF must always be greater than or equal to the highest consistency level you plan to use.
In multi-data center setups, RF is defined per DC, e.g.:
```

#### Q-4 What do you mean by replication Strategy ?
```bash
The replica placement strategy refers to how the replicas will be placed in the ring There are different 
strategies that ship with Cassandra for determining which nodes will get copies of which keys.

There are mainly two types of Strategies:

Simple Strategy
Network Topology Strategy
```

#### Q-5  What are partitions and Tokens in Cassandra ?
```bash
Partition: It is a hash function located on each node that hashes tokens from designated values in rows being added. 
It converts a variable-length input to a fixed-length value.

The partition key is the most important part of the primary key in Cassandra. It determines which node 
will store a row of data.

Functions of the partition key:

Defines the distribution of data across the cluster.
Ensures load balancing—good partition keys avoid hotspots.
Determines the physical partition on disk.
Ensures that all rows with the same partition key are stored together.


Token: Integer value generated by a hashing algorithm, identifying a partition’s location within a cluster
```

#### Q-6 What are the different types of Partitioners in Cassandra? Explain.
```bash
Murmur3Partitioner is the default partitioner. It is both improved and faster than RandomPartitioner. Uniformly 
distributes data based on the MurmurHash function.
64-bit hash value partition key with Range: 263 to 263-1

RandomPartitioner was the default partitioner prior to Cassandra 1.2. It is used with vnodes. It has a Uniform 
Distribution.It uses MD5 hash values with Range: 0 to 2127-1

ByteOrderedPartioner is used for ordered partitioning. It orders rows lexically by key bytes. Using the ordered partitioner allows ordered scans by primary key. This means we can scan rows as though we were moving a cursor through a traditional 
index.
```

#### Q-7 Explain the terms Memtable, CommitLog and SSTables ?
```bash
Commit log: The Commit log is a crash-recovery mechanism that supports Cassandra’s durability goals
The commit log is a crucial durability component in Cassandra’s write path. It is an append-only log file on 
disk where every write operation is recorded before being acknowledged. 

How commit log works in the write path:
Client sends a write request.
Cassandra writes the data to the commit log (on disk) to guarantee durability.
The same data is written to the memtable (in RAM) for fast access.
Once the memtable is full, it is flushed to disk as an SSTable.
After successful flush, the related portion of commit log can be discarded.

Key properties of the commit log:
Durability — protects against power loss or crashes.
Append-only — minimizes disk seeks and improves write speed.
Segmented — split into segments so they can be deleted after flush.
Sequential writes — extremely fast due to no random I/O.


MemTable: MemTable is an in-memory data structure that corresponds to a CQL table
A Memtable is an in-memory, sorted data structure where Cassandra stores written data temporarily before 
flushing it to disk as an SSTable.

Write path process:

Data is written to the commit log for durability.
Data is written to the memtable for fast in-memory access.
When the memtable becomes full, it is flushed to disk as an SSTable.
Characteristics of Memtables:

They store data in sorted order.
Each table has its own memtable.
Memtables are volatile (in-memory), but commit logs ensure durability.
Flushing is triggered by thresholds such as size or time.

SSTable: The contents of the memtable are flushed to disk in a file called an SSTable.
A SSTable (Sorted String Table) is an immutable, disk-based data file used by Cassandra to store data permanently. 
SSTables are created during flush operations when in-memory data (memtables) is written to disk.
Key features:

Immutable (never changed once written)
Data is sorted by partition key and clustering key
Stored as multiple components:
Data file
Index file
Summary file
Bloom filter
Compression offsets
Benefits of SSTables:

Fast sequential writes
Efficient reads using indexes and bloom filters
Compaction merges SSTables to reduce fragmentation
Immutable nature avoids locking issues
```

#### Q-8 What is Python Stress test in Cassandra ?
```bash
Cassandra comes with a popular utility called py_stress that can be used to run a stress test on Cassandra cluster. 
The Cassandra-stress tool is a Java-based stress testing utility for basic benchmarking and load testing a Cassandra 
cluster. This is an effective tool for populating a cluster and stress testing CQL tables and queries.
```

#### Q-9 Explain Cassandra data model ?
```bash
The Cassandra data model has 4 main concepts which are cluster, keyspace, column, column family.
Clusters contain many nodes(machines) and can contain multiple keyspaces.
A keyspace is a namespace to group multiple column families, typically one per application.
A column contains a name, value and timestamp.
A column family contains multiple columns referenced by a row keys.
```

#### Q-10 What is Key-Value Store DB? Explain with an example ? 
```bash
All of the data within database consists of an indexed key and a value. A key may correspond to one or 
multiple values (hash table). Provides a great performance and can be very easily scaled as per business 
needs.
```

#### Q-11 Explain the role of the gossip protocol in Cassandra ?
```bash
The gossip protocol in Cassandra is a peer-to-peer communication mechanism that nodes use to share state information. 
It helps in detecting node failures and ensuring data consistency across the cluster.

The Gossip protocol in Cassandra is a peer-to-peer communication protocol that nodes use to exchange information about:

Their own health status
Other nodes' status (reachable/unreachable)
Schema changes
Token ownership
Gossip runs every second and spreads information quickly across the cluster.

Key features:
Decentralized
Lightweight
Fault-tolerant
Eventually consistent state sharing
Each gossip round involves:

A node randomly picks another node.
They exchange state information.
Knowledge spreads exponentially (like virus transmission).
```

#### Q-12 What is the purpose of the TTL (Time to Live) in Cassandra ? How do you set it ?
```bash
The purpose of TTL (Time to Live) in Cassandra is to automatically expire and delete data after a specified time period, 
helping manage storage and remove outdated data efficiently. You can set TTL using the USING TTL clause in an INSERT 
or UPDATE statement.
```

#### Q-13 Explain the concept of tombstones in Cassandra and their impact on performance ? 
```bash
Tombstones in Cassandra are markers for deleted data, ensuring eventual consistency across nodes. However, excessive 
tombstones can lead to performance degradation by increasing read and write latency.
```

#### Q-14 What are the advantages and disadvantages of using Cassandra ?
```bash
Cassandra offers high scalability, fault tolerance, and a decentralized architecture, making it ideal for large-scale 
data management. However, it comes with challenges such as complex data modeling, eventual consistency, and maintenance 
overhead.
```

#### Q-15 What are some common performance tuning techniques for Cassandra ?
```bash
To optimize Cassandra performance, start by ensuring proper data modeling to balance read and write efficiency. 
Additionally, regularly perform maintenance tasks like compaction and repair to maintain optimal performance.
```

#### Q-16 Explain the CAP theorem and where Cassandra fits ? 
```bash
Consistency (C): Every read gets the latest data.
Availability (A): Every request receives a response, even during failures.
Partition Tolerance (P): The system continues to work even if network partitions occur.

n reality, partition tolerance is mandatory for any distributed system spanning multiple machines.
So the trade-off is between Consistency and Availability.

Where Cassandra fits:
Cassandra is AP (Availability + Partition Tolerance) by default, meaning:

During network issues, Cassandra prefers availability, allowing the cluster to continue accepting reads and writes.
It uses eventual consistency to synchronize replicas later.
```

#### Q-17 What is a node in Cassandra ?  
```bash
A node is the basic building block of a Cassandra cluster. It is a single machine (physical or virtual) 
that stores part of the data and participates in replication, querying, and cluster communication.

Each node in Cassandra:

Holds a portion of the data determined by the partitioner.
Reads and writes data independently (no master node).
Communicates with other nodes using the Gossip protocol.
Manages its own storage structures such as memtables, SSTables, and commit logs.
Can act as a coordinator node, routing client requests to appropriate replicas.
Can join or leave the cluster without downtime.
```

#### Q-18 What is a cluster ?
```bash
A cluster is a collection of nodes that together hold the entire dataset in a distributed manner. The cluster is 
the top-level structure that Cassandra uses to distribute and replicate data.

Characteristics of a Cassandra cluster:

All nodes share a common cluster name.
The data is partitioned across nodes using consistent hashing.
Replicas of the same data are stored on multiple nodes based on replication factor.
The cluster ensures reliability by automatically distributing and balancing data.
```

#### Q-19 What is a data center in Cassandra ?
```bash
A data center (DC) is a logical grouping of nodes within a cluster. Cassandra’s multi-data-center architecture 
allows organizations to distribute data geographically and handle regional traffic efficiently.

Reasons to use data centers:

Fault isolation—A failure in one DC doesn’t affect others.
Low latency—Applications connect to the nearest DC.
Workload segregation—Separate DCs for analytics, search, backups, or production traffic.
Disaster recovery—Cross-region replication for reliable failover.
Replication strategies like NetworkTopologyStrategy use data center awareness to define how many replicas should 
be stored in each DC.

For example:

DC1: replication_factor = 3 -> Each piece of data exists on three different nodes.
DC2: replication_factor = 2
This ensures strong multi-region resilience and performance.
```

#### Q-20  What is a keyspace ?
```bash
A keyspace is the top-level namespace in Cassandra, similar to a database in relational systems.

A keyspace defines:

Replication strategy (SimpleStrategy, NetworkTopologyStrategy)
Replication factor (number of replicas for each piece of data)
Durable writes setting

CREATE KEYSPACE myapp
WITH replication = {
  'class': 'NetworkTopologyStrategy',
  'DC1': 3
};
```